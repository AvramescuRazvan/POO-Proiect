#include "myserver.h"

myserver::myserver(QObject *parent)
    : QObject{parent}
{
server=new QTcpServer(this);
s=new QTcpSocket;
connect(server,SIGNAL(newConnection()),this,SLOT(newConnection()));

if(!server->listen(QHostAddress::Any,1234))
   qDebug()<<"Server could not start!";
else
     qDebug()<<"Server started!";
}

void myserver::newConnection()
{
QTcpSocket *socket=server->nextPendingConnection();
socket->flush();
s=socket;
connect(s,SIGNAL(readyRead()),this,SLOT(onReadyRead()),Qt::DirectConnection);
qDebug()<<"conexiune noua";
}

void myserver::onReadyRead()
{
    QByteArray data=s->readAll();
    QString req(data);

    qDebug()<<"Am primit de la client: "<<req;
    QString str;

    if(req[0]=='6')
        str="zi1 greutate1 progres1|";

    else  if(req[0]=='9')
         str="Aici se vor afisa datele utilizatorului|";

    else if(req[0]=='8')
         str="nume|nume1|nume2";
     else if(req[0]=='7')
         str="prieten|prieten1|prieten2";
     else if(req[0]=='1'&&req[1]=='1')
         str="zi1 greutate1 progres1|zi2 greutate2 progres2|zi3 greutate3 progres3|";
     else if(req[0]=='4')
        {
         if(req.contains("Luni"))
             str=" Exerciții fizice pentru partea superioară a corpului\n\nPoți să-ți lucrezi eficient brațele, spatele și pectoralii în mii și mii de feluri,\n acasă, folosindu-te doar de greutatea corpului și de câteva obiecte \ndin spațiul în care te antrenezi.\n Executate în mod corect, exercițiile de mai jos asigură rezultate vizibile,\n într-un timp cât se poate de scurt.\nIată câteva tipuri de exerciții pe care le poți\n include în programul tău zilnic de antrenament:\n\n1. Flotări simple\nPentru a-ți lucra eficient bicepșii și pectoralii, îți recomandăm să faci flotări.\n Aceste exerciții complete se pot realiza în mai multe feluri,\n în funcție de nivelul tău de practică: în genunchi sau pe picioare,\n modificând înclinarea, schimbând poziția mâinilor\n (mai puțin sau mai mult, apropiate una de cealaltă), adaptând viteza sau numărul de repetări.\n Zi după zi, vei realiza progrese vizibile și îți vei tonifia brațele.\n\n2. Flotări la paralele\nPentru a-ți lucra tricepșii, mușchii cei mai lungi de la nivelul brațelor,\n alege flotările la paralele. Sprijină-te de o masă joasă sau de un scaun, \ncu picioarele mai mult sau mai puțin în față, în funcție de nivel,\n și coboară brațele până formezi un unghi de 90° cu cotul.\n Numărul de repetări depinde de nivelul tău de practică.\n\n3. Tracțiuni \nPentru a realiza aceste exerciții, ai nevoie de o bară de tracțiune. \nPe lângă lucrarea brațelor, tracțiunile te ajută să îți lucrezi eficient spatele \n(exact ca spatele în „V” al înotătorilor). Acest exercițiu este dificil, \ndeci nu te îngrijora dacă la început nu reușești să faci decât o tracțiune. \nOdată cu trecerea timpului, vei vedea progrese notabile. ";
        else if(req[0]=='4' && req.contains("Marti"))
             str="Exerciții pentru partea inferioară a corpului\n\nCine nu își dorește să aibă coapse și fese bine lucrate și tonifiate? Realizând exercițiile care urmează, acest vis poate deveni realitate. Avem încredere în tine!\n\n1. GenuflexiuniAceste exerciții sunt ideale pentru lucrarea musculaturii picioarelor.\n Realizate corect, genuflexiunile te ajută să îți lucrezi coapsele și fesele.\nSigur cunoști aceste exerciții, dar reamintim cum se execută și pentru\n persoanele care nu le-au realizat niciodată: bine încordat, cu picioarele\n depărtate la lățimea umerilor, îndoaie picioarele până formezi un unghi de 90° cu genunchii.\nTrage posteriorul către spate. Linia umerilor nu trebuie să depășească\n niciodată linia genunchilor. Poți crește dificultatea exercițiului,\n realizând mai multe repetări, încetinind coborârea sau ridicarea.\n În curând, vei avea picioarele tonifiate!\nSpatele trebuie ținut cât mai drept, iar privirea trebuie orientată spre înainte.\n Coborârea se realizează până în punctul în care simți că există\n un nivel considerabil de tensiune la nivelul coapselor. Pentru un plus de dificultate,\n utilizează gantere de greutate redusă. \n\n2. Fandări și step\nAcest exercițiu pune accentul pe lucrarea mușchilor fesieri. Prin realizarea de fandări,\n îți lucrezi și coapsele. Mișcarea este simplă: este suficient să avansezi cu un picior în față,\n flexionându-l până când genunchiul piciorului din spate aproape atinge solul.\nȚi se pare prea ușoră Atunci realizează fandări cu sărituri, alternând picioarele.\n Pentru step, poți aborda un mers de urcat scările, pentru a simula urcarea și coborârea. Nu ezita să faci exercițiile cu muzică pe fundal,\n pentru a fi mai distractive și a alunga eventuala monotonie din timpul practicării acestora.\n";
         else if(req[0]=='4' && req.contains("Miercuri"))
             str=" Exerciții pentru mușchii abdominali\n\nExistă numeroase exerciții ușor de realizat și foarte eficiente pentru lucrarea acestei părți a corpului,\n chiar și fără aparate de fitness. Iată câteva exemple:\n1. Plank / planșă\nAcest exercițiu este ideal pentru persoanele care își doresc un abdomen plat.\n Poziția este următoarea: sprijină-te pe antebrațe și pe vârfurile picioarelor.\n Este important să nu curbezi spatele. Ideal ar fi să realizezi 3 serii de câte 30 de secunde,\n pentru început. Poți crește acest interval de timp pe măsură ce progresezi.\n2. Abdomene\nAcesta este unul din exercițiile de bază pentru lucrarea abdomenului.\n Întins pe spate, cu genunchii îndoiți și mâinile la ceafă, îți ridici trunchiul,\n închipuindu-ți că îți împingi abdomenul înspre spate.  \n3. Ridicări ale picioarelor\n Este un exercițiu ideal pentru a lucra partea inferioară a mușchilor abdominali.\n Întins/ă pe spate, este suficient să ridici picioarele cât mai sus posibil\n (ideal în poziție verticală), fără a curba spatele.\nMenține picioarele într-o poziție dreaptă, cu brațele orientate în sus,\n la un unghi de aproximativ 45° față de suprafața solului.\n La fel ca în cazul executării planșei, include în rutina de antrenamente pentru\n acasă un set de 3-5 serii, a câte 30 de secunde fiecare. \n";
         else if(req[0]=='4' && req.contains("Joi"))
             str="Antrenamentul cardio acasă\n\nPoate părea complicat să faci antrenamente cardio la domiciliu, fără echipament costisitor.\n Cu toate acestea, există câteva tipuri de exerciții care îți vor pune sângele\n în mișcare și te vor ajuta să scapi de kilogramele în plus:\nsăriturile cu coarda (10-20 de minute în fiecare zi);\nsărituri cu genunchii la piept;\nalergarea pe loc;\nexercițiile burpees – un amestec între flotări,\n genuflexiuni și sărituri, acest exercițiu este apreciat\n pentru capacitatea de a arde calorii într-un timp scurt. Încearcă-l!\nJumping Jacks  sau săriturile pe loc, \ndepărtând picioarele și ridicând brațele în același timp – pot arde\n circa 100 de calorii în doar 10 minute.\nSFAT: Pentru a arde mai multe grăsimi și să ai un boost de energie pentru întreaga zi,\n fă antrenamente cardiovasculare dimineața, pe stomacul gol.\n";
         else if(req[0]=='4' && req.contains("Vineri"))
             str="Antrenament pentru picioare\n\nGenuflexiuni cu propria greutate:\nStai in picioare, cu talpile departate la o latime de umeri si lasa-ti greutatea pe calcaie\nApleaca-te in fata din solduri si lasa-te in jos, cu fundul in spate.\n Indoaie genunchii, pana cand coapsele formeaza o linie paralela cu podeaua\nImpinge in calcaie pentru a te ridica din nou in pozitia de start,\n tinand fundul si trunchiul incordate in timpul ridicarii\nFandari inverse cu ridicarea genunchiului:\n\nIncepi din pozitia stand, cu picioarele departate la o latime de umeri\nPaseste in spate cu piciorul stang, calcand pe talpa indoita si\n indoind amandoi genunchii, pentru a crea doua unghiuri de 90 de gradeImpinge in calcaiul drept pentru a reveni in pozitia de start. \nCand te ridici, impinge genunchiul stang catre piept\nRepeta miscarea pornind cu celalalt picior.\nGenuflexiuni in plie cu ridicarea gambei:\n\nPorneste din pozitia stand, cu picioarele mai departate de o latime de umeri,\n cu varfurile indreptate catre exterior si mainile pe solduri sau \nunite in fata pieptuluiCoboara in genuflexiune pana cand coapsele ajung parelele cu podeaua\ntand in pozitia de genuflexiune, ridica ambele calcaie de pe podea\n si mentine pozitia pentru doua secunde\nCoboara calcaiele inapoi pe podea.\nGenuflexiuni cu saritura:\n\nPorneste din pozitia stand, cu picioarele usor mai apropiate de o latime de sold\nApleaca-te inainte din solduri si coboara fundul intr-o pozitie de genuflexiune.\n Indoaie genunchii pana cand coapsele sunt paralele cu podeaua\nSari in aer cat de sus poti si intinde picioarele.\n Lasa bratele in jos pentru elan si tine spatele drept si pieptul ridicat\nAterizeaza inapoi pe podea cu genunchii moi,\n coborand direct in alta genuflexiune.\nSarituri cu varfurile picioarelor pe banca (scaun):\n\nStai cu fata la o banca sau la o cutie (sau la un scaun daca nu ai altceva la indemana),\n cu mainile pe solduri sau pe langa corp\nPune piciorul stang pe banca, apoi schimba picioarele\n si pune piciorul drept pe banca, alternand rapid\nTine spatele drept si pieptul ridicat pe toata durata exercitiului.\nFandari laterale:\n\nStai in picioare, cu talile departate la o latime de sold\nFa un pas mare catre dreapta. Indoaie genunchiul drept si impinge fundul in spate, \ntinand piciorul stang dre. Mentine pieptul ridicat si trunchiul incordat.\nRepeta fandarea cu celalalt picior.\n";
         else if(req[0]=='4' && req.contains("Sambata"))
             str="Antrenament pentru abdomen\n\nAbdomene\nSeturi 3: Repetări 15-20\nStai întins pe spate cu genunchii îndoiți și picioarele pe podea.\n Plasează mâinile în spatele capului sau încrucișează-le pe piept.\n Contractează-ți mușchii abdominali trăgând burta spre coloana vertebrală și stai cu spatele întins pe podea.\n Ridică umerii ușor de pe podea. Strânge abdomenul în partea de sus a mișcării \nși coboară înapoi la poziția de pornire realizândo mișcare controlată.\nHeel Reach \nSeturi: 3 Repetări: 15-20\nMetodă: Stai întins pe spate cu genunchii îndoiți și picioarele pe podea.\n Pune brațele pe lângă corp. Contractează-ți oblicii ducând mâna dreaptă la călcâiul drept, de îndată ce ai atins călcâiul, \nrepetă această mișcare cu mâna stângă. Menține aceste mișcări alternativ. \nAsigură-te că partea inferioară a spatelui rămâne lipită de podea, iar umerii sunt ușor ridicați.\nAbdomene inverse – pe blog, e o descriere greșită, am făcut eu una.\nSeturi: 3 Repetări 15-20\nStai întins pe podea cu partea inferioară a spatelui lipită de aceasta,\n genunchii puțin îndoiți și talpa piciorului lipită de podea.\n Poziționează mâinile pe lângă corp. Ca poziție de plecare,\n ridică genunchii și picioarele fără să te ajuți de mâini la un unghi\n de 90 de grade față de podea și, atunci când ai ajuns la \nun unghi de 90 de grade, împinge din abdomen.. \nDupă aceea, cu o mișcare controlată, lasă jos genunchii și picioarele fără să atingi podeaua.\n Această mișcare reprezintă o repetare. \nGlute Bridge \nSeturi: 3 Repetări 15-20\nStai întins pe spate cu genunchii ridicați și cu picioarele pe podea. \nStai cu brațele relaxate, pe lângă corp. \nRidică-te de șolduri păstrând umerii și brațele pe podea. \nLa cel mai înalt punct, menține o pauză și strânge din mușchii fesieri și după aceea coboară la podea. \nForearm Plank\nSeturi: 3 Repetări: Menținere 30-60 secunde\nStai într-o poziție de flotare cu coatele pe podea la un unghi de 90 de grade.\n Încordează abdomenul și menține poziția timp de 30-60 de secunde.\n";
         else if(req[0]=='4' && req.contains("Duminica"))
             str="Antrenament pentru partea inferioară fără echipament\n\nRidicari de gambe cu un singur picior:\nStai in picioare, cu talpile departate la o latime de sold\nRidica genunchiul stang la nivelul soldului, cu varfurile in jos, \ncu mainile pe solduri sau in spatele capului (alege o pozitie in care sa iti mentii echilibrul)\nTine trunchiul incordat in timp ce ridici calcaiul drept cat de sus poti,\n balansandu-te pe centrul talpii\nMentine pozitia timp de trei secunde, apoi coboara calcaiul inapoi pe podea.\nRepeta cu celalalt picior.\nFandari reverenta:\n\nStai in picioare, cu talpile departate la o latime de umeri\nPaseste cu piciorul drept in spatele piciorului stang\n si indoaie genunchii pentru a cobori intr-o fandare\nImpinge in calcaiul drept pentru a te ridica si adu piciorul drept inapoi in pozitia de start.\nRepeta miscarea cu celalalt picior.\nGenuflexiuni pistol (genuflexiuni pe un picior):\n\nStai in picioare cu talpile unite\nRidica piciorul stang cativa centimetri si intinde-l in fata, cu talpa flexata.\nIndoaie genunchiul drept, inclina-te in fata din solduri \nsi coboara intr-o genuflexiune, in timp ce ridici piciorul stang la inaltimea soldului.\n Intinde bratele in laterale pentru echilibru\nIncearca sa indoi genunchiul la 90 de grade daca poti.\n Este o miscare foarte grea, asa ca nu te descuraja daca nu o poti face de la prima incercare\nImpinge in calcaiul drept pentru a indrepta piciorul si revino la start.\nRepeta miscarea cu celalalt picior.\nRidicari de picior in lateral:\n\nIntinde-te pe o parte cu picioarele drepte si puse unul peste altul.\n Sprijina-te pe antebrat sau lasa-ti torsul pe saltea\nRidica piciorul de deasupra catre tavan intr-o miscare lenta si controlata.\n Ai grija sa ridici de la sold si fund, nu din zona lombara\nRevino la start.\nRepeta cu piciorul celalalt.\nRidicari de picioare pentru interiorul coapselor:\n\nPorneste din intins pe o parte, cu picioarele drepte,\n puse unul peste celalalt si cu torsul pe saltea sau sprijinit pe antebrat\nIncruciseaza piciorul de deasupra peste cel de jos, indoind genunchiul, \nastfel incat piciorul de sus sa fie in fata genunchiului piciorului de jos\nRidica piciorul de jos catre tavan intr-o miscare lenta si controlata.\n Mentine torsul stabil pe toata durata miscarii\nRevino la start.\nRepeta cu celalalt picior.\nPodul pentru fesieri pe un singur picior:\n\nStai pe spate, cu genunchii indoiti si cu talpile pe podea\nRidica piciorul drept si indreapta genunchiul. Tine coapsele paralele una cu cealalta.\n Indreapta degetele catre tavan\nImpinge in calcaie pentru a ridica soldurile, incordand fesierii. \nIncearca sa creezi o linie diagonala intre umeri si genunchi\nMentine podul timp de doua secunde, apoi coboara spatele.\nRepeta cu celalalt picior.\nDeschideri pentru interiorul coapselor:\n\nStai pe spate, cu genunchii indoiti si cu talpile pe podea.\n Ridica piciorul drept, mentinand coapsele lipite si intinde piciorul catre tavan\nCoboara usor piciorul drept catre partea dreapta cat de mult poti, \nmentinand soldurile si zona lombara lipite de podea\nAdu piciorul inapoi la pozitia de start.\nRepeta cu celalalt picior.\n";
          }
          else  str="1";

          qDebug()<<"Am trimis catre client: "<<str<<"\n";
          s->write(str.toUtf8());
             }
